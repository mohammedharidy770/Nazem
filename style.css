:root{
    --bg:#070717;
    --card:#0f0b16;
    --muted:#9aa7c3;
    --neon:#8a2be2;
    --neon-2:#6f3bd6;
    --accent:linear-gradient(90deg,var(--neon), #b07bff);
    --glass:rgba(255,255,255,0.03);
    --glass-2:rgba(138,43,226,0.06);
    --glow: 0 8px 30px rgba(106,58,173,0.12), 0 0 18px rgba(138,43,226,0.06);
    --glass-border: rgba(138,43,226,0.14);
    --success:#6ef0a7;
    --danger:#ff6b6b;
    --nav:#05040a;
    --blur: 6px;
    --max-width:1200px;
  }
  
  /* ------------- Base ------------- */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:'Cairo',sans-serif;
    background:
      radial-gradient(800px 400px at 10% 10%, rgba(138,43,226,0.06), transparent 6%),
      radial-gradient(600px 300px at 90% 80%, rgba(100,100,255,0.02), transparent 8%),
      var(--bg);
    color:#e9eef8;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding-top:72px;
    overflow-y:auto;
    scroll-behavior:smooth;
  }
  
  /* ------------- Header / Nav ------------- */
  header{
    position:fixed; top:0; left:0; right:0; height:64px; z-index:9999;
    backdrop-filter: blur(var(--blur));
    background: linear-gradient(180deg, rgba(10,6,20,0.74), rgba(8,6,15,0.55));
    border-bottom: 1px solid rgba(255,255,255,0.03);
    display:flex; align-items:center; justify-content:center;
    box-shadow: var(--glow);
  }
  .header-inner{
    width:100%; max-width:var(--max-width); padding:10px 18px; display:flex; gap:12px; align-items:center;
  }
  .brand{font-weight:800; font-size:16px; color: #fff; letter-spacing:0.4px; display:flex; align-items:center; gap:10px}
  .logo-dot{width:10px;height:10px;border-radius:50%;background:linear-gradient(90deg,var(--neon),var(--neon-2)); box-shadow:0 0 12px rgba(138,43,226,0.7)}
  .nav{display:flex;gap:8px; margin-inline-start:14px; align-items:center}
  .nav a{
    color:var(--muted); text-decoration:none; padding:8px 12px; border-radius:8px; font-size:14px;
    transition: all 220ms cubic-bezier(.2,.9,.24,1); transform-origin:center;
  }
  .nav a:hover{
    color:#fff; transform:translateY(-4px) scale(1.02);
    box-shadow: 0 6px 20px rgba(106,58,173,0.08), 0 0 18px rgba(138,43,226,0.06);
    background: linear-gradient(90deg, rgba(138,43,226,0.06), rgba(111,59,214,0.03));
  }
  
  .controls-head{margin-left:auto; display:flex; gap:8px; align-items:center}
  .btn{
    padding:10px 14px; border-radius:10px; background:transparent; border:1px solid rgba(255,255,255,0.04);
    cursor:pointer; color:inherit; font-weight:600; transition:all 180ms cubic-bezier(.2,.9,.24,1); transform-origin:center;
    display:inline-flex; gap:8px; align-items:center; justify-content:center;
    will-change:transform, box-shadow;
  }
  .btn:hover{ transform:translateY(-4px) scale(1.03); box-shadow: 0 12px 30px rgba(106,58,173,0.08); }
  .btn:active{ transform:translateY(-1px) scale(0.995); }
  
  .btn.primary{
    background: linear-gradient(90deg, rgba(138,43,226,0.16), rgba(111,59,214,0.06));
    border: 1px solid var(--glass-border);
    box-shadow:0 6px 20px rgba(111,59,214,0.06), 0 0 18px rgba(138,43,226,0.06);
  }
  .btn.small{ padding:6px 10px; font-size:13px; }
  
  /* banner */
  .banner{
    position:fixed; top:64px; left:0; right:0; z-index:998; text-align:center; padding:10px 12px; display:none;
    font-weight:700; color:#fff; background:linear-gradient(90deg, rgba(138,43,226,0.18), rgba(111,59,214,0.10));
    border-bottom:1px solid rgba(255,255,255,0.03); box-shadow:var(--glow);
  }
  
  /* layout */
  .app{max-width:var(--max-width);margin:0 auto;display:grid;grid-template-columns:1fr 360px;gap:18px;padding:18px}
  @media(max-width:980px){ .app{grid-template-columns:1fr; padding:14px} aside{width:100%} }
  
  /* card */
  .card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px; padding:14px; box-shadow: 0 10px 40px rgba(3,3,8,0.6); border:1px solid rgba(255,255,255,0.03);
    transition: transform 420ms cubic-bezier(.2,.9,.24,1), box-shadow 420ms;
    will-change: transform, box-shadow;
  }
  .card:hover{ transform: translateY(-8px) rotateX(0.2deg); box-shadow: 0 30px 80px rgba(20,10,60,0.5); }
  
  /* content */
  .section h1, .section h3{ margin-bottom:8px; color:#fff; font-weight:700; letter-spacing:0.3px; }
  .lead{ color:var(--muted); font-size:13px; margin-bottom:12px; }
  
  .timeline{display:flex;flex-direction:column;gap:10px; position:relative}
  .slot{padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);display:flex;justify-content:space-between;align-items:center}
  .slot .left{display:flex;flex-direction:column;align-items:flex-end}
  .slot .left strong{font-size:15px}
  .slot .time small{color:var(--muted);font-size:13px}
  .slot.study{cursor:pointer; background: linear-gradient(90deg, rgba(138,43,226,0.02), transparent); transition: transform 260ms, box-shadow 260ms; transform-origin:center; }
  .slot.study:hover{ transform: translateY(-6px) scale(1.01); box-shadow: 0 18px 40px rgba(106,58,173,0.06); }
  .slot.done{background:linear-gradient(90deg, rgba(110,240,167,0.06), transparent); text-decoration:line-through; color:#dfffe6}
  .slot.prayer{background: linear-gradient(90deg, rgba(100,255,218,0.04), rgba(138,43,226,0.02)); border-color: rgba(100,255,218,0.12); color:var(--success); font-weight:700; justify-content:center}
  .slot.break{background:rgba(255,255,255,0.01); font-style:italic; color:var(--muted)}
  
  .timerBar{height:12px;background:rgba(255,255,255,0.03);border-radius:10px;overflow:hidden;margin-top:8px}
  .timerFill{height:100%;width:0%;background:linear-gradient(90deg,var(--neon),#b07bff); transition:width 900ms cubic-bezier(.2,.9,.24,1)}
  
  /* stats */
  .stats-grid{display:grid;grid-template-columns:repeat(1,1fr);gap:12px}
  .stat-card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .progress{height:14px;background:rgba(255,255,255,0.03);border-radius:10px;overflow:hidden}
  .progress > i{display:block;height:100%;width:0%;background:linear-gradient(90deg, rgba(138,43,226,0.9), #b07bff); transition:width 1200ms cubic-bezier(.2,.9,.24,1)}
  
  /* tilt */
  .tilt{ perspective:1000px; transform-style:preserve-3d; }
  .tilt .inner{ transition: transform 220ms ease-out, box-shadow 220ms; will-change:transform; }
  
  /* helpers */
  .fullwidth{ width:100%; padding:10px; border-radius:8px; background:transparent; border:1px solid rgba(255,255,255,0.04); color:inherit; margin-bottom:8px; }
  .rightSmall{ text-align:right; color:var(--muted); font-size:13px }
  .centerMuted{ text-align:center; color:var(--muted) }
  
  /* mobile adjustments */
  @media(max-width:600px){
    header{ height:56px; padding:6px 0; }
    .header-inner{ padding:6px 12px; }
    .logo-dot{width:8px;height:8px}
    .brand{ font-size:14px }
    .controls-head .btn{ padding:8px 10px; font-size:14px }
    .app{ padding:12px; gap:12px }
    .card{ padding:12px }
    .timerBar{ height:10px }
    .particles{ display:none }
    /* quick card padding scaled */
    #quickCard .inner{ padding:10px }
  }
  
  /* prefers-reduced-motion */
  @media (prefers-reduced-motion: reduce){
    .btn, .slot, .timerFill, .progress > i { transition:none !important; animation:none !important; transform:none !important; }
  }
  